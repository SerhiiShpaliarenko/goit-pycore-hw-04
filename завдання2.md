# Функція, яка має прочитати файл про котів

def get_cats_info(path):
    # Тут буде мій список котів
    my_list = []
    
    try:
        # Відкриваю файл, щоб прочитати його
        cats_file = open(path, "r")
        
        # Проходжу по кожному рядку в файлі
        for line in cats_file:
            # Розділяю рядок на частини по комі
            # наприклад "id,name,age" -> ["id", "name", "age"]
            parts = line.split(',')
            
            # Створюю словник для одного кота
            cat_dictionary = {}
            cat_dictionary["id"] = parts[0]
            cat_dictionary["name"] = parts[1]
            # треба видалити \n з віку, бо він заважає
            cat_dictionary["age"] = parts[2].replace('\n', '')
            
            # Додаю готовий словник у мій список
            my_list.append(cat_dictionary)

        # Важливо закрити файл після роботи
        cats_file.close()

    except FileNotFoundError:
        print("Ой, а файла немає за цим шляхом!")

    # Повертаю список, який я зібрав
    return my_list

# --- Код для перевірки ---

# Створюю тестовий файл cats_file.txt
f = open("cats_file.txt", "w")
f.write("60b90c1c13067a15887e1ae1,Tayson,3\n")
f.write("60b90c2413067a15887e1ae2,Vika,1\n")
f.write("60b90c2e13067a15887e1ae3,Barsik,2\n")
f.close()

# Викликаю свою функцію
cats = get_cats_info("cats_file.txt")

# Друкую результат, щоб подивитись, що вийшло
print(cats)
